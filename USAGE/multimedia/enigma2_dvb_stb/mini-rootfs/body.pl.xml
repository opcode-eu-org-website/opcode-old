<article>
<title>Mini-rootfs</title>

<p>Celem wygodnego uruchamiania usług z (potencjalnie różnych) środowisk chrootowych oraz zamienienia samego openAVT na środowisko chrootowe przygotowany został na bazie OpenAVT minimalny rootfs. Składają się na niego:</p><ul>
	<li>agetty</li>
	<li>busybox (podlinkowany jako: blkid cat chmod chroot cut echo expr find getty grep hostname ifconfig inetd ip mdev mkdir mount readlink rm rmdir sed sh sleep telnetd udhcpc umount which)</li>
	<li>busybox.suid (podlinkowany jako: login)</li>
	<li>halt.sysvinit (podlinkowany jako: halt reboot)</li>
	<li><id_link id="enigma2_dvb_stb:config:init.sh">init.sh</id_link> - opcjonalna alternatywa dla init.sysvinit, gdybyśmy chcieli się execować do init w chroocie</li>
	<li>init.sysvinit (podlinkowany jako: init)</li>
	<li>killall5</li>
	<li>kmod (podlinkowany jako: modinfo modprobe rmmod)</li>
	<li>sdparm</li>
</ul>
<p>Wszystkie te programy wraz z dolinkowaniami umieszczone zostały w <kbd class="path">/bin</kbd>, natomiast <kbd class="path">/sbin</kbd> jest dowiązaniem symbolicznym do <kbd class="path">/bin</kbd>. W <kbd class="path">/lib</kbd> (ld.so.1, libc.so.6, libcrypt.so.1, libnss_files-2.19.so, libnss_files.so.2, libz.so.1) oraz moduły jądra. Ponaddto w skład mini-rootfs wchodzą pliki konfiguracyjnymi:</p><ul>
	<li><kbd class="path"><id_link id="enigma2_dvb_stb:config:inittab">/etc/inittab</id_link></kbd></li>
	<li><kbd class="path"><id_link id="enigma2_dvb_stb:config:boot.sh">/etc/init.d/boot.sh</id_link></kbd> - główny skrypt startowy wywoływany przez init</li>
	<li><kbd class="path"><id_link id="enigma2_dvb_stb:config:chroot.sh">/etc/init.d/chroot.sh</id_link></kbd> - uruchamianie usług w chroocie</li>
	<li><kbd class="path"><id_link id="enigma2_dvb_stb:config:halt.sh">/etc/init.d/halt.sh</id_link></kbd> - skrypt wyłączania / restartowania systemu</li>
	<li><kbd class="path"><id_link id="enigma2_dvb_stb:config:init.common">/etc/init.d/init.common</id_link></kbd> - funkcie pomocnicze oraz zmienne konfiguracyjne dla skryptów w init.d</li>
	<li><kbd class="path">/etc/init.d/loadHotPlugModules.sh</kbd> - pochodzący z OpenAVT</li>
	<li><kbd class="path">/etc/inetd.conf</kbd> z jednym wpisem: <code>23 stream tcp nowait root /bin/busybox telnetd</code></li>
	<li><kbd class="path">/etc/mdev.conf</kbd> - pochodzący z OpenAVT</li>
	<li><kbd class="path">/etc/mdev/mdev-mount.sh</kbd> - pochodzący z OpenAVT</li>
	<li><kbd class="path">/etc/udhcpc.script</kbd> - pochodzący z OpenAVT, bazujący na orginalnym skrypcie z busybox skrypt z dodanym sprawdzaniem istnienia <kbd class="path">/etc/resolv.conf</kbd> przed wpisywaniem do niego adresów</li>
	<li><kbd class="path">/etc/passwd</kbd> - pochodzący z OpenAVT</li>
	<li><kbd class="path">/etc/group</kbd> - pochodzący z OpenAVT</li>
</ul>

</article>
