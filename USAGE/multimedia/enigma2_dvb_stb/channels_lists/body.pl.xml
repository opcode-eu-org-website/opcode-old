<article>
<title>Listy kanałów</title>

<p>W enigma2 występują dwa główne miejsca konfiguracji list kanałów - są to plik <kbd class="path">/etc/enigma2/lamedb</kbd> oraz plik <kbd class="path">/etc/enigma2/bouquets.tv</kbd> (wraz z plikami do niego podłączonymi).</p>

<subtitle id="lamedb">lamedb</subtitle>
<p>W pliku tym znajdują się informacje związane z odbiorem poszczególnych stacji - informacje na temat używanych transponderów oraz informacje na temat parametrów poszczególnych programów (transponder i parametry w ramach niego).</p>

<p>Listy parametrów transponderów znajdują się pomiędzy liniami "transponders" i "end". Opis parametrów transpondera ma postać:</p>
<pre>
[NAMESPACE ID]:[TRANSPORT STREAM ID]:[NETWORK ID]
	[type] [frequency kHz]:[symbol rate]:[polaization]:[fec]:[position]:[inversion]:[flags]:[system]:[modulation]:[rolloff]:[pilot]
/
</pre>
<p class="noindent">gdzie:</p><ul>
	<li>type: s =&gt; DVB-S* t =&gt; DVB-T c =&gt; DVB-C</li>
	<li>polaization: 0 =&gt; Horizontal, 1 =&gt; Vertical, 2 =&gt; left, 3 =&gt; right</li>
	<li>system:  0 =&gt; DVB-S, 1 =&gt; DVB-S2</li>
	<li>cztery ostatnie pola (:[system]:[modulation]:[rolloff]:[pilot]) nie występują w części wpisów</li>
</ul>

<p>Listy parametrów usług / stacji TV (pomiędzy liniami "services" i "end"), opis parametrów usługi ma postać:</p>
<pre>
[SERVICE ID]:[NAMESPACE ID]:[TRANSPORT STREAM ID]:[NETWORK ID]:[type 1=TV 2=RADIO]:[number]
[nazwa usługi]
p:[nazwa dostawcy],c:[cached data],C:[card ID],f:[flags]
</pre>

<p>Zobacz także w Sieci: <doc url="http://www.satsupreme.com/showthread.php/194074-Lamedb-format-explained">Lamedb format explained</doc>.</p>


<subtitle id="bouquets">bouquets.tv</subtitle>
<p>bouquets.tv oraz includowane przez niego (poprzez wpis <code>#SERVICE 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "<var>nazwa_pliku</var>" ORDER BY bouquet</code>) pliki zawierają m.in. wpisy typu:</p><ul>
	<li>stacja TV: <code>#SERVICE 1:0:[service type]:[SERVICE ID]:[TRANSPORT STREAM ID]:[NETWORK ID]:[NAMESPACE ID]:[parent service ID]:[parent transport stream ID]:0::[komentarz]</code>, gdzie:<ul>
		<li>service type - typowo 1</li>
		<li>SERVICE ID - identyfikuje usługę na transponderze (zestaw strumieni danej stacji)</li>
		<li>TRANSPORT STREAM ID + NETWORK ID + NAMESPACE ID - identyfikuje multiplex (transponder, kanał)</li>
		<li>parent service ID - typowo 0</li>
		<li>parent transport stream ID - typowo 0</li>
	</ul></li>
	<li>separator: <code>#SERVICE 1:64:0:0:0:0:0:0:0:0::sep</code></li>
	<li>pominięty numer: <code>#SERVICE 1:832:0:0:0:0:0:0:0:0::noop</code></li>
	<li>nazwa: <code>#DESCRIPTION [nazwa dla poprzedzającego wpisu #SERVICE]</code>, dla kanałów nazwa standardowo pobierana jest z lamedb więc nie ma potrzeby stosowania tego pliku)</li>
</ul>

<p>Pierwsze pole w #SERVICE określa typ usługi:</p><ul>
	<li>0 => Structure</li>
	<li>1 => DVB</li>
	<li>2 => File</li>
</ul>

<p>Drugie pole w #SERVICE jest flagą binarną:</p><ul>
	<li>1 => isDirectory</li>
	<li>2 => mustDescent</li>
	<li>3 => canDescent</li>
	<li>8 => shouldSort</li>
	<li>16 => hasSortKey in data[3]</li>
	<li>32 => sort key ma wartość 1 zamiast 0</li>
	<li>64 => isMarker</li>
	<li>128 => isGroup</li>
	<li>256 => isNumberedMarker (używany z isMarker)</li>
	<li>512 => isInvisible</li>
</ul>

<p>Pola od trzeciego do dziesiątego to kolejne elementy tablicy data[]. Natomiast ostatnie jedenaste pole jest postaci: [URL] [nazwa], URL może zawierać dwukropki.</p>


<p>Przykład - <kbd class="path">/etc/enigma2/bouquets.tv</kbd>:</p>
<pre>
#NAME Bouquets (TV)
#SERVICE 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "bouquet.001-030.Podstawowe.tv" ORDER BY bouquet
#SERVICE 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "bouquet.031-050.Dodatkowe.tv" ORDER BY bouquet
#SERVICE 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "bouquet.051-080.Przyrodnicze.tv" ORDER BY bouquet
#SERVICE 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "bouquet.081-110.Kids.tv" ORDER BY bouquet
#SERVICE 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "bouquet.111-130.Informacyjne.tv" ORDER BY bouquet
#SERVICE 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "bouquet.131-160.Dodatkowe2.tv" ORDER BY bouquet
#SERVICE 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "bouquet.161-180.Music.tv" ORDER BY bouquet
#SERVICE 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "userbouquet.favourites.tv" ORDER BY bouquet
</pre>

<p>Przykład - fragment <kbd class="path">/etc/enigma2/bouquet.051-080.Przyrodnicze.tv</kbd> (wpis z <code>noop_52</code> powoduje przeskoczenie jednego kanału w numeracji):</p>
<pre>
#NAME Przyrodnicze, naukowe itp
#SERVICE 1:64:0:0:0:0:0:0:0:0::przyrodnicze, naukowe itp
#DESCRIPTION przyrodnicze, naukowe itp
#SERVICE 1:0:1:3B66:12C:13E:820000:0:0:0::Animal Planet HD
#SERVICE 1:832:0:0:0:0:0:0:0:0::noop_52
#SERVICE 1:0:1:1C8B:1CE8:71:820000:0:0:0::Nat Geo Wild
</pre>

</article>
