<article>
<title>BZR</title>

<p><wiki pl="Bazaar">Bazaar</wiki> (czyli bzr) jest rozproszonym systemem kontroli wersji mogącym jednak funkcjonować jako klasyczny system z centralnym repozytorium.</p>

<subtitle id="branch">obsluga branchów</subtitle>
<pre>
# utworzenie mirrora wskazanego branch'a
bzr branch

# aktualizacja (lub utworzenie) wskazanego mirrora obecnego brancha
bzr push

# zamiana bierzącego brancha w mirror wskazanego brancha (aktualizacja brancha)
bzr pull 

# warto wspomnieć że:
# * podobny efekt jak pull daje merge+commit, przy czym zapewnia ono zachowanie hierarchii w historii zmian
# * branch'e mogą operować na pojedyńczym repozytorium (shared repository) - patrz bzr init_repo
</pre>

<subtitle id="workdir">obsluga kopii roboczej</subtitle>
<pre>
# utworzenie kopii roboczej
bzr checkout
# w ogólności możliwe jest tworzenie kopii z dala od brancha (np. na innej maszynie),
# w przypadku kożystania z checkout'ów działania komend takich jak update, commit
# odnoszą się do macierzystego brancha (działanie bzr przypomina wtedy działanie svn)
# możliwe jest także przełączanie macierzystego brancha dla checkotów (komenda switch)
# a także komitowanie lokalne (opcja --local w commit) lub nawet odłączenie i ponowne
# przyłączenie do brancha (unbind / bind) - w zasaadzie konwersjac checkout/branch

# scalanie zmian z innego brancha / mirrora brancha
bzr merge

# dodawanie usówanie i przenoszenie plików
bzr add|rm|mv

# akceptowanie zmian wprowadzonych kopii roboczej (do związanego z nią brancha)
# bzr commit -m "<var>Opis zmian</var>"

# aktualizacja kopii roboczej
bzr update

# cofanie kopii roboczej do stanu zgodnego z branchem
bzr revert

# warto wspomnieć że (w odróżnieniu od svn):
# * `bzr add *` w katalogu głównym bardzo ładnie dodaje wsystkie nowe obiekty
#    w całym drzwie podkatalogów (działa rekursywnie i po cichu ignoruje
#    obecne już w repo obiekty)
# * `bzr mv` przenosi obiekt w repozytorium a nie usuwa go i tworzy od nowa
#    (istotne przy zmianach nazw/położeń dużych plików)
</pre>

<subtitle id="revert">odzyskiwanie starych wersji</subtitle>
<pre>
bzr log
bzr -r <var>$REVNUM</var> ls
bzr -r <var>$REVNUM</var> cat
</pre>

<subtitle id="inne">inne</subtitle>
<pre>
bzr diff
bzr status
bzr info
bzr export <var>DST</var>
bzr init
bzr whoami "Imie Nazwisko &lt;adres@mailowy&gt;"
</pre>

</article>
